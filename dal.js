var DAL = (function() {
	var http = require("http");
	var _data = null;
	var _url = "http://www.betvictor.com/live/en/live/list.json";
	var _opts = {
		host: "www.betvictor.com",
		path: "/live/en/live/list.json",
		port: 80,
		methos: "GET"
	};

	// var _data = {"version":"50404747270005_388a43f04_en_2_1","sports":[{"id":100,"title":"Football","meetings":[],"is_virtual":false,"events":[{"id":216676210,"is_virtual":false,"outcomes":[{"id":18831866800,"description":"Chesterfield","price_decimal":8.0,"price":"7/1","price_id":121967343402,"print_order":1,"opponent_id":2711200,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831867000,"description":"Draw","price_decimal":1.1428571428571428,"price":"1/7","price_id":121967313402,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831866900,"description":"Portsmouth","price_decimal":18.0,"price":"17/1","price_id":121967343502,"print_order":3,"opponent_id":2439200,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":472361100,"title":"Chesterfield v Portsmouth","market_id":29213522,"status_id":1,"score":"0 - 0","description":null,"start_time":1393875900000,"meeting":"ENG League Two","meeting_id":6378810,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":30,"status":"Second Half","status_type":"text","total_outcomes":3},{"id":216565610,"is_virtual":false,"outcomes":[{"id":18832206600,"description":"Arouca","price_decimal":15.0,"price":"14/1","price_id":121967145502,"print_order":1,"opponent_id":6817200,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832206800,"description":"Draw","price_decimal":4.1,"price":"31/10","price_id":121967336602,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832206700,"description":"Academica Coimbra","price_decimal":1.3333333333333333,"price":"1/3","price_id":121967145602,"print_order":3,"opponent_id":4603100,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":472083800,"title":"Arouca v Academica Coimbra","market_id":29214178,"status_id":1,"score":"0 - 1","description":null,"start_time":1393876800000,"meeting":"POR Liga Sagres","meeting_id":6360110,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":333,"status":"Second Half","status_type":"text","total_outcomes":3},{"id":74170510,"is_virtual":false,"outcomes":[{"id":18831956400,"description":"Bradford P A","price_decimal":8.0,"price":"7/1","price_id":121967315602,"print_order":1,"opponent_id":3475000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831956600,"description":"Draw","price_decimal":1.1818181818181819,"price":"2/11","price_id":121967315902,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831956500,"description":"Vauxhall Motors","price_decimal":10.5,"price":"19/2","price_id":121967315802,"print_order":3,"opponent_id":3700800,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":474398900,"title":"Bradford P A v Vauxhall Motors","market_id":29213714,"status_id":1,"score":"0 - 0","description":null,"start_time":1393875900000,"meeting":"ENG Conference North","meeting_id":5510510,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":471,"status":"Second Half","status_type":"text","total_outcomes":3},{"id":217435110,"is_virtual":false,"outcomes":[{"id":18832048700,"description":"Brown De Adrogue","price_decimal":3.0,"price":"2/1","price_id":121967198802,"print_order":1,"opponent_id":7760800,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832048900,"description":"Draw","price_decimal":1.7,"price":"7/10","price_id":121967297902,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832048800,"description":"CA Douglas Haig","price_decimal":6.5,"price":"11/2","price_id":121967297802,"print_order":3,"opponent_id":28379300,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":474114300,"title":"Brown De Adrogue v CA Douglas Haig","market_id":29213849,"status_id":2,"score":"1 - 1","description":null,"start_time":1393876800000,"meeting":"ARG Nacional B","meeting_id":6220210,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":804,"status":"Second Half","status_type":"text","total_outcomes":3},{"id":55091710,"is_virtual":false,"outcomes":[{"id":18832165600,"description":"Huracan BA","price_decimal":2.45,"price":"29/20","price_id":121967309402,"print_order":1,"opponent_id":6096100,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832165800,"description":"Draw","price_decimal":1.7272727272727273,"price":"8/11","price_id":121967309602,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18832165700,"description":"Club Ferro Carril Oeste","price_decimal":11.0,"price":"10/1","price_id":121967313502,"print_order":3,"opponent_id":7445400,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":474114500,"title":"Huracan BA v Club Ferro Carril Oeste","market_id":29214090,"status_id":1,"score":"0 - 0","description":null,"start_time":1393876800000,"meeting":"ARG Nacional B","meeting_id":6220210,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":804,"status":"Second Half","status_type":"text","total_outcomes":3},{"id":217435010,"is_virtual":false,"outcomes":[{"id":18831902900,"description":"Villa San Carlos","price_decimal":1.2,"price":"1/5","price_id":121967295202,"print_order":1,"opponent_id":10489000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831903100,"description":"Draw","price_decimal":4.8,"price":"19/5","price_id":121967321802,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"},{"id":18831903000,"description":"Gimnasia Jujuy","price_decimal":23.0,"price":"22/1","price_id":121967295302,"print_order":3,"opponent_id":5436900,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}],"event_id":474114200,"title":"Villa San Carlos v Gimnasia Jujuy","market_id":29213620,"status_id":1,"score":"2 - 1","description":null,"start_time":1393876800000,"meeting":"ARG Nacional B","meeting_id":6220210,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":804,"status":"Second Half","status_type":"text","total_outcomes":3}],"pos":1},{"id":600,"title":"Tennis","meetings":[],"is_virtual":false,"events":[{"id":217668810,"is_virtual":false,"outcomes":[{"id":18832698400,"description":"Virginie Razzano","price_decimal":10.5,"price":"19/2","price_id":121967333802,"print_order":1,"opponent_id":9834400,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18832698500,"description":"Heather Watson","price_decimal":1.0357142857142858,"price":"1/28","price_id":121967333902,"print_order":2,"opponent_id":10584200,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":474671900,"title":"Virginie Razzano v Heather Watson","market_id":29215112,"status_id":1,"score":"15 - 15","description":null,"start_time":1393878600000,"meeting":"Indian Wells Womens - 2014","meeting_id":217663610,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"1-6 1-2","status_type":"text","total_outcomes":2},{"id":217665710,"is_virtual":false,"outcomes":[{"id":18832682200,"description":"Mirjana Lucic","price_decimal":1.4,"price":"2/5","price_id":121967264702,"print_order":1,"opponent_id":12972700,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18832682300,"description":"Tadeja Majeric","price_decimal":2.75,"price":"7/4","price_id":121967264802,"print_order":2,"opponent_id":15352600,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":474668100,"title":"Mirjana Lucic v Tadeja Majeric","market_id":29215085,"status_id":2,"score":"30 - 15","description":null,"start_time":1393878600000,"meeting":"Indian Wells Womens - 2014","meeting_id":217663610,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"6-1 1-5","status_type":"text","total_outcomes":2},{"id":217665510,"is_virtual":false,"outcomes":[{"id":18833132600,"description":"Timea Babos","price_decimal":2.375,"price":"11/8","price_id":121967153402,"print_order":1,"opponent_id":13853100,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18833132700,"description":"Alla Kudryavtseva","price_decimal":1.5333333333333332,"price":"8/15","price_id":121967153502,"print_order":2,"opponent_id":8124300,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":474667900,"title":"Timea Babos v Alla Kudryavtseva","market_id":29215696,"status_id":1,"score":"0 - 0","description":null,"start_time":1393882200000,"meeting":"Indian Wells Womens - 2014","meeting_id":217663610,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"0-0","status_type":"text","total_outcomes":2},{"id":217665310,"is_virtual":false,"outcomes":[{"id":18833150400,"description":"Yulia Putintseva","price_decimal":1.7,"price":"7/10","price_id":121967058602,"print_order":1,"opponent_id":16379100,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18833150500,"description":"Teliana Pereira","price_decimal":2.15,"price":"23/20","price_id":121967059402,"print_order":2,"opponent_id":23372000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":474667700,"title":"Yulia Putintseva v Teliana Pereira","market_id":29215709,"status_id":1,"score":"","description":null,"start_time":1393882800000,"meeting":"Indian Wells Womens - 2014","meeting_id":217663610,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"21:40","time":1393882800000,"status_type":"time","total_outcomes":2},{"id":217665610,"is_virtual":false,"outcomes":[{"id":18833126500,"description":"Olga Govortsova","price_decimal":1.6666666666666665,"price":"4/6","price_id":121967339702,"print_order":1,"opponent_id":9856000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18833126600,"description":"Olivia Rogowska","price_decimal":2.1,"price":"11/10","price_id":121967339802,"print_order":2,"opponent_id":11881100,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":474668000,"title":"Olga Govortsova v Olivia Rogowska","market_id":29215687,"status_id":1,"score":"0 - 30","description":null,"start_time":1393882200000,"meeting":"Indian Wells Womens - 2014","meeting_id":217663610,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"0-0","status_type":"text","total_outcomes":2}],"pos":3},{"id":17500,"title":"Cricket","meetings":[],"is_virtual":false,"events":[{"id":216390810,"is_virtual":false,"outcomes":[{"id":18783340900,"description":"South Africa","price_decimal":15.0,"price":"14/1","price_id":121911135302,"print_order":1,"opponent_id":6310300,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18783341000,"description":"Draw","price_decimal":2.85,"price":"37/20","price_id":121948726102,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"},{"id":18783341100,"description":"Australia","price_decimal":1.5,"price":"1/2","price_id":121942853202,"print_order":3,"opponent_id":10225800,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - Match"}],"event_id":471716500,"title":"South Africa v Australia","market_id":29118311,"status_id":1,"score":"0/0 - 27/0","description":null,"start_time":1393660800000,"meeting":"3rd Test - South Africa v Australia - 01/03/2014","meeting_id":216390710,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":99,"status":"2nd Innings","status_type":"text","total_outcomes":3}],"pos":13},{"id":20000,"title":"Virtual Horse Racing","meetings":[],"is_virtual":true,"events":[{"id":158547010,"is_virtual":true,"outcomes":[{"id":18817820000,"description":"BIRCHWOOD TRAVELLER","price_decimal":11.0,"price":"10/1","price_id":121831547702,"print_order":1,"opponent_id":13091900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817821400,"description":"THE SNOOKER KING","price_decimal":7.5,"price":"13/2","price_id":121831549102,"print_order":2,"opponent_id":13201800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817821500,"description":"FESTIVAL WARDEN","price_decimal":9.0,"price":"8/1","price_id":121831550402,"print_order":3,"opponent_id":13132900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817824600,"description":"STANHOPE  MAC","price_decimal":6.5,"price":"11/2","price_id":121831553502,"print_order":4,"opponent_id":13185900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817824700,"description":"SEAT ON CREW","price_decimal":5.0,"price":"4/1","price_id":121831553602,"print_order":5,"opponent_id":13106600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817827800,"description":"COMPTON WAY PRINCE","price_decimal":41.0,"price":"40/1","price_id":121831556702,"print_order":6,"opponent_id":13199000,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817827900,"description":"TONY THE BARBER","price_decimal":4.5,"price":"7/2","price_id":121831556802,"print_order":7,"opponent_id":13146300,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817828000,"description":"HAYES E FANTASEY","price_decimal":13.0,"price":"12/1","price_id":121831556902,"print_order":8,"opponent_id":13149500,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817831100,"description":"CLOUGH WOZ ERE","price_decimal":5.0,"price":"4/1","price_id":121831560002,"print_order":9,"opponent_id":13215700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474536900,"title":"Victory Straights 21:31","market_id":29190597,"status_id":1,"score":"","description":null,"start_time":1393882260000,"meeting":null,"meeting_id":16373310,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":1,"status":"Upcoming","status_type":"text","total_outcomes":9},{"id":158547110,"is_virtual":true,"outcomes":[{"id":18817831200,"description":"WEST GREEN  ROADSTER","price_decimal":12.0,"price":"11/1","price_id":121831560102,"print_order":1,"opponent_id":13137200,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817834300,"description":"SOUTH NORWOOD TANGO","price_decimal":26.0,"price":"25/1","price_id":121831564602,"print_order":2,"opponent_id":13250100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817834400,"description":"CLEVELEYS PRESENCE","price_decimal":21.0,"price":"20/1","price_id":121831564702,"print_order":3,"opponent_id":13224700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817834500,"description":"OAKWOOD DARBY","price_decimal":13.0,"price":"12/1","price_id":121831564802,"print_order":4,"opponent_id":13234800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817837600,"description":"WOKING TIME","price_decimal":6.0,"price":"5/1","price_id":121831567902,"print_order":5,"opponent_id":13197100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817837700,"description":"KILMARNOCK KID","price_decimal":17.0,"price":"16/1","price_id":121831568002,"print_order":6,"opponent_id":13231800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817840800,"description":"DUDLEY MOOR","price_decimal":10.0,"price":"9/1","price_id":121831571102,"print_order":7,"opponent_id":13191700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817841100,"description":"MAIDSTONE WEEP","price_decimal":15.0,"price":"14/1","price_id":121831571302,"print_order":8,"opponent_id":13231600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817844200,"description":"WYLD GREEN BARLEY","price_decimal":4.5,"price":"7/2","price_id":121831574502,"print_order":9,"opponent_id":13192100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817844700,"description":"CHELTENHAM BANKER","price_decimal":9.0,"price":"8/1","price_id":121831575002,"print_order":10,"opponent_id":13143700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817844800,"description":"MARYS KISS","price_decimal":8.0,"price":"7/1","price_id":121831575102,"print_order":11,"opponent_id":13164300,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817847900,"description":"KING STREET  MAN WEST","price_decimal":34.0,"price":"33/1","price_id":121831578202,"print_order":12,"opponent_id":13157900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817848000,"description":"BISPHAM ABBEY","price_decimal":29.0,"price":"28/1","price_id":121831578302,"print_order":13,"opponent_id":13245500,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817850700,"description":"PENDLEBURY LANE","price_decimal":23.0,"price":"22/1","price_id":121831581002,"print_order":14,"opponent_id":13230700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474537400,"title":"Chandler Park 21:34","market_id":29190622,"status_id":1,"score":"","description":null,"start_time":1393882440000,"meeting":null,"meeting_id":16373510,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":2,"status":"21:34","time":1393882440000,"status_type":"time","total_outcomes":14},{"id":158547210,"is_virtual":true,"outcomes":[{"id":18817851200,"description":"TENBY TEARAWAY","price_decimal":13.0,"price":"12/1","price_id":121831581502,"print_order":1,"opponent_id":13087900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817851300,"description":"LIVE IN HOPE","price_decimal":21.0,"price":"20/1","price_id":121831581602,"print_order":2,"opponent_id":13202300,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817854400,"description":"BIRTHDAY GIRL","price_decimal":3.4,"price":"12/5","price_id":121831584702,"print_order":3,"opponent_id":13224400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817854500,"description":"OSCAR NINOTCHKA","price_decimal":7.5,"price":"13/2","price_id":121831584802,"print_order":4,"opponent_id":13231700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817857600,"description":"ABERDEEN CITY BOY","price_decimal":11.0,"price":"10/1","price_id":121831587902,"print_order":5,"opponent_id":13161100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817857700,"description":"CLEETHORPES SANDS","price_decimal":9.0,"price":"8/1","price_id":121831588002,"print_order":6,"opponent_id":13215900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817857800,"description":"BRADFORD RAMS","price_decimal":3.6,"price":"13/5","price_id":121831588102,"print_order":7,"opponent_id":13225000,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817860900,"description":"FENHAM TIGER","price_decimal":6.0,"price":"5/1","price_id":121831591202,"print_order":8,"opponent_id":13187600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474538100,"title":"Chandler Park 21:37","market_id":29190660,"status_id":1,"score":"","description":null,"start_time":1393882620000,"meeting":null,"meeting_id":16373510,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":3,"status":"21:37","time":1393882620000,"status_type":"time","total_outcomes":8},{"id":159886010,"is_virtual":true,"outcomes":[{"id":18817861000,"description":"BRANDON HEAD","price_decimal":15.0,"price":"14/1","price_id":121831591302,"print_order":1,"opponent_id":13097200,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817864100,"description":"THE BONUS KING","price_decimal":13.0,"price":"12/1","price_id":121831594402,"print_order":2,"opponent_id":13212900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817864200,"description":"JAY PEE BEE","price_decimal":7.0,"price":"6/1","price_id":121831594502,"print_order":3,"opponent_id":13214500,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817867300,"description":"POCKLINGTON PEARL","price_decimal":9.0,"price":"8/1","price_id":121831598502,"print_order":4,"opponent_id":13244400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817867400,"description":"ST JOHNS TEE WELLS","price_decimal":15.0,"price":"14/1","price_id":121831598602,"print_order":5,"opponent_id":13251100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817867500,"description":"SYSTON EXPRESS","price_decimal":29.0,"price":"28/1","price_id":121831598702,"print_order":6,"opponent_id":13240400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817870600,"description":"WITT ROAD JURY","price_decimal":23.0,"price":"22/1","price_id":121831601802,"print_order":7,"opponent_id":13166800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817870700,"description":"TALK SENSE","price_decimal":11.0,"price":"10/1","price_id":121831601902,"print_order":8,"opponent_id":13224200,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817873800,"description":"FAREHAM WESTIE","price_decimal":51.0,"price":"50/1","price_id":121831605002,"print_order":9,"opponent_id":13256700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817873900,"description":"FARNBOROUGH AIRSHOW","price_decimal":10.0,"price":"9/1","price_id":121831605102,"print_order":10,"opponent_id":13126800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817875600,"description":"FEWSTER  BOOSTER","price_decimal":26.0,"price":"25/1","price_id":121831606802,"print_order":11,"opponent_id":13109400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817877500,"description":"WADEBRIDGE WONDER","price_decimal":17.0,"price":"16/1","price_id":121831610202,"print_order":12,"opponent_id":13102600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817877600,"description":"LAS VEGAS ADVENTURE","price_decimal":21.0,"price":"20/1","price_id":121831610302,"print_order":13,"opponent_id":13213400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817880700,"description":"HOGGY'S FAVOURITE","price_decimal":5.5,"price":"9/2","price_id":121831613402,"print_order":14,"opponent_id":13213000,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817880800,"description":"WHITEHAVEN STONE","price_decimal":8.0,"price":"7/1","price_id":121831618302,"print_order":15,"opponent_id":13140200,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474538500,"title":"Victory Straights 21:40","market_id":29190679,"status_id":1,"score":"","description":null,"start_time":1393882800000,"meeting":null,"meeting_id":16373310,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":4,"status":"21:40","time":1393882800000,"status_type":"time","total_outcomes":15}],"pos":86},{"id":20100,"title":"Virtual Dog Racing","meetings":[],"is_virtual":true,"events":[{"id":159078810,"is_virtual":true,"outcomes":[{"id":18817001700,"description":"Fallen Angel","price_decimal":5.5,"price":"9/2","price_id":121830532602,"print_order":1,"opponent_id":13415200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817001900,"description":"Gold Rush","price_decimal":7.5,"price":"13/2","price_id":121830532802,"print_order":2,"opponent_id":13392900,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817002100,"description":"Dog Of War","price_decimal":3.2,"price":"11/5","price_id":121830533002,"print_order":3,"opponent_id":13414300,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817002300,"description":"Jeckel","price_decimal":9.0,"price":"8/1","price_id":121830533102,"print_order":4,"opponent_id":13411300,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817002500,"description":"Sting Ray","price_decimal":6.0,"price":"5/1","price_id":121830533402,"print_order":5,"opponent_id":13400900,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817002700,"description":"Heavens Tipping","price_decimal":3.4,"price":"12/5","price_id":121830533602,"print_order":6,"opponent_id":13388300,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474494300,"title":"Round the Rock Stadium 21:30","market_id":29189170,"status_id":2,"score":"","description":null,"start_time":1393882200000,"meeting":null,"meeting_id":16614410,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":1,"status":"Race Started","status_type":"text","total_outcomes":6},{"id":158583210,"is_virtual":true,"outcomes":[{"id":18817002900,"description":"Cheeky Chappy","price_decimal":2.875,"price":"15/8","price_id":121830533802,"print_order":1,"opponent_id":13395200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817003100,"description":"Barrow Boy","price_decimal":8.0,"price":"7/1","price_id":121830534002,"print_order":2,"opponent_id":13389500,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817003300,"description":"Genghis","price_decimal":6.0,"price":"5/1","price_id":121830534202,"print_order":3,"opponent_id":13403200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817003500,"description":"Bright Spark","price_decimal":10.0,"price":"9/1","price_id":121830536102,"print_order":4,"opponent_id":13399200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817003700,"description":"Mighty Miller","price_decimal":3.2,"price":"11/5","price_id":121830536302,"print_order":5,"opponent_id":13399000,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817003900,"description":"Hotstepper","price_decimal":6.5,"price":"11/2","price_id":121830536502,"print_order":6,"opponent_id":13408500,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474494400,"title":"Round the Rock Stadium 21:33","market_id":29189171,"status_id":1,"score":"","description":null,"start_time":1393882380000,"meeting":null,"meeting_id":16614410,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":2,"status":"21:33","time":1393882380000,"status_type":"time","total_outcomes":6},{"id":159078910,"is_virtual":true,"outcomes":[{"id":18817004100,"description":"Mickey Duff","price_decimal":3.6,"price":"13/5","price_id":121830536702,"print_order":1,"opponent_id":13412500,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817004300,"description":"British Lion","price_decimal":7.0,"price":"6/1","price_id":121830536902,"print_order":2,"opponent_id":13408600,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817004500,"description":"Northern Angel","price_decimal":3.4,"price":"12/5","price_id":121830537102,"print_order":3,"opponent_id":13402900,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817004700,"description":"Venus Flytrap","price_decimal":6.0,"price":"5/1","price_id":121830537302,"print_order":4,"opponent_id":13395100,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817004900,"description":"Dangly Dell","price_decimal":5.0,"price":"4/1","price_id":121830537502,"print_order":5,"opponent_id":13410600,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817005100,"description":"Cecil The Savage","price_decimal":8.5,"price":"15/2","price_id":121830537702,"print_order":6,"opponent_id":13401200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474494600,"title":"Round the Rock Stadium 21:36","market_id":29189173,"status_id":1,"score":"","description":null,"start_time":1393882560000,"meeting":null,"meeting_id":16614410,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":3,"status":"21:36","time":1393882560000,"status_type":"time","total_outcomes":6},{"id":17039710,"is_virtual":true,"outcomes":[{"id":18817005300,"description":"Klondike Kid","price_decimal":3.75,"price":"11/4","price_id":121830537902,"print_order":1,"opponent_id":13390800,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817005500,"description":"Capital Venture","price_decimal":5.5,"price":"9/2","price_id":121830538102,"print_order":2,"opponent_id":13414500,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817005700,"description":"Lotta Bottle","price_decimal":7.5,"price":"13/2","price_id":121830539602,"print_order":3,"opponent_id":13406400,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817005900,"description":"Hobo","price_decimal":3.75,"price":"11/4","price_id":121830540902,"print_order":4,"opponent_id":13397900,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817006100,"description":"Holiday Dancer","price_decimal":6.5,"price":"11/2","price_id":121830541102,"print_order":5,"opponent_id":13396200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18817006500,"description":"Spitfire Sam","price_decimal":5.5,"price":"9/2","price_id":121830543302,"print_order":6,"opponent_id":13390700,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474494700,"title":"Round the Rock Stadium 21:39","market_id":29189174,"status_id":1,"score":"","description":null,"start_time":1393882740000,"meeting":null,"meeting_id":16614410,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":4,"status":"21:39","time":1393882740000,"status_type":"time","total_outcomes":6}],"pos":87},{"id":20200,"title":"Virtual Speedway","meetings":[],"is_virtual":true,"events":[{"id":16601410,"is_virtual":true,"outcomes":[{"id":18819606400,"description":"Nico De Barge","price_decimal":4.0,"price":"3/1","price_id":121833916702,"print_order":1,"opponent_id":13421900,"deduction":1,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606500,"description":"Dave Richards","price_decimal":2.875,"price":"15/8","price_id":121833916802,"print_order":2,"opponent_id":13374100,"deduction":1,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606600,"description":"Ernie Bristow","price_decimal":2.8,"price":"9/5","price_id":121833916902,"print_order":3,"opponent_id":13370000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606700,"description":"Andy Cotton","price_decimal":6.5,"price":"11/2","price_id":121833917702,"print_order":4,"opponent_id":13383800,"deduction":1,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474640600,"title":"Devils Tower Stadium 21:33","market_id":29193627,"status_id":1,"score":"","description":null,"start_time":1393882380000,"meeting":null,"meeting_id":16585910,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":1,"status":"21:33","time":1393882380000,"status_type":"time","total_outcomes":4}],"pos":91},{"id":20300,"title":"Virtual Motor Racing","meetings":[],"is_virtual":true,"events":[{"id":158688810,"is_virtual":true,"outcomes":[{"id":18819606800,"description":"Neil Nixon","price_decimal":15.0,"price":"14/1","price_id":121833917802,"print_order":1,"opponent_id":13313900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606900,"description":"Thomas Handgerry","price_decimal":29.0,"price":"28/1","price_id":121833917902,"print_order":2,"opponent_id":13335100,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607000,"description":"DJ Briers","price_decimal":21.0,"price":"20/1","price_id":121833918002,"print_order":3,"opponent_id":13337700,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607100,"description":"Martin Williams","price_decimal":6.5,"price":"11/2","price_id":121833918102,"print_order":4,"opponent_id":13314800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607200,"description":"Eddie Hill","price_decimal":13.0,"price":"12/1","price_id":121833918202,"print_order":5,"opponent_id":13313600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607300,"description":"David Sherratt","price_decimal":5.0,"price":"4/1","price_id":121833918302,"print_order":6,"opponent_id":13300900,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607400,"description":"George Andrews","price_decimal":11.0,"price":"10/1","price_id":121833918402,"print_order":7,"opponent_id":13336600,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607500,"description":"Darren Shaw","price_decimal":23.0,"price":"22/1","price_id":121833918502,"print_order":8,"opponent_id":13336400,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607600,"description":"Kirk Porterfield","price_decimal":9.0,"price":"8/1","price_id":121833918602,"print_order":9,"opponent_id":13325200,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607700,"description":"Richard Kelsall","price_decimal":5.5,"price":"9/2","price_id":121833919202,"print_order":10,"opponent_id":13309800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607800,"description":"Luke Skyrunner","price_decimal":17.0,"price":"16/1","price_id":121833919402,"print_order":11,"opponent_id":13318800,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819607900,"description":"Jake Bradley","price_decimal":8.0,"price":"7/1","price_id":121833919502,"print_order":12,"opponent_id":13299300,"deduction":5,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474640700,"title":"Queensway Oval 21:36","market_id":29193628,"status_id":1,"score":"","description":null,"start_time":1393882560000,"meeting":null,"meeting_id":16586110,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":1,"status":"21:36","time":1393882560000,"status_type":"time","total_outcomes":12}],"pos":90},{"id":20400,"title":"Virtual Football","meetings":[],"is_virtual":true,"events":[{"id":217608810,"is_virtual":true,"outcomes":[{"id":18818238600,"description":"Gelsenkirchen","price_decimal":1.9090909090909092,"price":"10/11","price_id":121832097502,"print_order":1,"opponent_id":109599800,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818238700,"description":"Draw","price_decimal":3.25,"price":"9/4","price_id":121832097602,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818238800,"description":"Malaga City","price_decimal":3.75,"price":"11/4","price_id":121832097702,"print_order":3,"opponent_id":109617500,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474552500,"title":"Gelsenkirchen v Malaga City 21:30","market_id":29191396,"status_id":2,"score":"","description":null,"start_time":1393882200000,"meeting":null,"meeting_id":158593410,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":1,"status":"Match Started","status_type":"text","total_outcomes":3},{"id":217608910,"is_virtual":true,"outcomes":[{"id":18818241900,"description":"Greece","price_decimal":2.0,"price":"1/1","price_id":121832100802,"print_order":1,"opponent_id":13176000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818242000,"description":"Draw","price_decimal":3.25,"price":"9/4","price_id":121832100902,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818242100,"description":"Sweden","price_decimal":3.4,"price":"12/5","price_id":121832101002,"print_order":3,"opponent_id":13182800,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474552600,"title":"Greece v Sweden 21:33","market_id":29191402,"status_id":1,"score":"","description":null,"start_time":1393882380000,"meeting":null,"meeting_id":158593710,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":2,"status":"21:33","time":1393882380000,"status_type":"time","total_outcomes":3},{"id":217609010,"is_virtual":true,"outcomes":[{"id":18818245100,"description":"Republic of Ireland","price_decimal":5.0,"price":"4/1","price_id":121832104002,"print_order":1,"opponent_id":13183100,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818245200,"description":"Draw","price_decimal":3.4,"price":"12/5","price_id":121832104102,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818245300,"description":"Portugal","price_decimal":1.6153846153846154,"price":"8/13","price_id":121832104202,"print_order":3,"opponent_id":13181900,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474552800,"title":"Republic of Ireland v Portugal 21:36","market_id":29191409,"status_id":1,"score":"","description":null,"start_time":1393882560000,"meeting":null,"meeting_id":158593710,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":3,"status":"21:36","time":1393882560000,"status_type":"time","total_outcomes":3},{"id":217609110,"is_virtual":true,"outcomes":[{"id":18818248400,"description":"Slovakia","price_decimal":3.6,"price":"13/5","price_id":121832107302,"print_order":1,"opponent_id":13178900,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818248500,"description":"Draw","price_decimal":3.25,"price":"9/4","price_id":121832107402,"print_order":2,"opponent_id":-1234567890000000000,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18818248600,"description":"Mexico","price_decimal":1.9090909090909092,"price":"10/11","price_id":121832107502,"print_order":3,"opponent_id":13171500,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474552900,"title":"Slovakia v Mexico 21:39","market_id":29191415,"status_id":1,"score":"","description":null,"start_time":1393882740000,"meeting":null,"meeting_id":16399410,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":4,"status":"21:39","time":1393882740000,"status_type":"time","total_outcomes":3}],"pos":88},{"id":20500,"title":"Virtual Cycling","meetings":[],"is_virtual":true,"events":[{"id":158688710,"is_virtual":true,"outcomes":[{"id":18819605800,"description":"Reed Nicholson","price_decimal":4.0,"price":"3/1","price_id":121833915202,"print_order":1,"opponent_id":109840000,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819605900,"description":"Dante Mcfadden","price_decimal":3.75,"price":"11/4","price_id":121833915302,"print_order":2,"opponent_id":109745000,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606000,"description":"Steel Horne","price_decimal":6.5,"price":"11/2","price_id":121833915402,"print_order":3,"opponent_id":109913200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606100,"description":"Ethan Jackson","price_decimal":5.5,"price":"9/2","price_id":121833916402,"print_order":4,"opponent_id":109764600,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606200,"description":"Callum Newman","price_decimal":7.0,"price":"6/1","price_id":121833916502,"print_order":5,"opponent_id":109752500,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819606300,"description":"Dustin Andrews","price_decimal":8.0,"price":"7/1","price_id":121833916602,"print_order":6,"opponent_id":109838200,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474640500,"title":"Velodrome Stadium 21:30","market_id":29193626,"status_id":2,"score":"","description":null,"start_time":1393882200000,"meeting":null,"meeting_id":158664810,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":1,"status":"Race Started","status_type":"text","total_outcomes":6},{"id":158688910,"is_virtual":true,"outcomes":[{"id":18819608000,"description":"Ali Malone","price_decimal":4.0,"price":"3/1","price_id":121833919602,"print_order":1,"opponent_id":109776800,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819608100,"description":"Carlos Rocha","price_decimal":7.5,"price":"13/2","price_id":121833919702,"print_order":2,"opponent_id":109805100,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819608200,"description":"Brendan Guerrero","price_decimal":5.0,"price":"4/1","price_id":121833920302,"print_order":3,"opponent_id":109828900,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819608500,"description":"Ferris Lambert","price_decimal":7.0,"price":"6/1","price_id":121833921202,"print_order":4,"opponent_id":109779100,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819608600,"description":"Lee Drake","price_decimal":4.333333333333334,"price":"10/3","price_id":121833921302,"print_order":5,"opponent_id":109835300,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"},{"id":18819608700,"description":"Abdul Dotson","price_decimal":6.0,"price":"5/1","price_id":121833921402,"print_order":6,"opponent_id":109915100,"deduction":4,"sp":false,"nr":false,"market":"Outright - Race"}],"event_id":474640800,"title":"Velodrome Stadium 21:39","market_id":29193629,"status_id":1,"score":"","description":null,"start_time":1393882740000,"meeting":null,"meeting_id":158664810,"media":null,"american_format":false,"event_type":"RANKEVENT","pos":2,"status":"21:39","time":1393882740000,"status_type":"time","total_outcomes":6}],"pos":92},{"id":20600,"title":"Virtual Tennis","meetings":[],"is_virtual":true,"events":[{"id":217644510,"is_virtual":true,"outcomes":[{"id":18819107800,"description":"Boaz Kisch","price_decimal":5.5,"price":"9/2","price_id":121833088502,"print_order":1,"opponent_id":109638600,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18819107900,"description":"Randy Poppet","price_decimal":1.125,"price":"1/8","price_id":121833088602,"print_order":2,"opponent_id":109642500,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474596600,"title":"Boaz Kisch v Randy Poppet 21:31","market_id":29192965,"status_id":1,"score":"","description":null,"start_time":1393882260000,"meeting":null,"meeting_id":158609410,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":1,"status":"Upcoming","status_type":"text","total_outcomes":2},{"id":217644610,"is_virtual":true,"outcomes":[{"id":18819110200,"description":"Malcom Piper","price_decimal":1.1666666666666667,"price":"1/6","price_id":121833091802,"print_order":1,"opponent_id":109637100,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18819110300,"description":"Atle Sundberg","price_decimal":5.0,"price":"4/1","price_id":121833091902,"print_order":2,"opponent_id":109630400,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474596700,"title":"Malcom Piper v Atle Sundberg 21:35","market_id":29192969,"status_id":1,"score":"","description":null,"start_time":1393882500000,"meeting":null,"meeting_id":158609410,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":2,"status":"21:35","time":1393882500000,"status_type":"time","total_outcomes":2},{"id":217644710,"is_virtual":true,"outcomes":[{"id":18819112000,"description":"Malik Hoeser","price_decimal":1.1,"price":"1/10","price_id":121833093602,"print_order":1,"opponent_id":109634500,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"},{"id":18819112100,"description":"Louis-Abel Blanc","price_decimal":6.5,"price":"11/2","price_id":121833093702,"print_order":2,"opponent_id":109648400,"deduction":1,"sp":false,"nr":false,"market":"Outright - Match"}],"event_id":474596800,"title":"Malik Hoeser v Louis-Abel Blanc 21:39","market_id":29192972,"status_id":1,"score":"","description":null,"start_time":1393882740000,"meeting":null,"meeting_id":158609410,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":3,"status":"21:39","time":1393882740000,"status_type":"time","total_outcomes":2}],"pos":89},{"id":433100,"title":"Baseball","meetings":[],"is_virtual":false,"events":[{"id":217571610,"is_virtual":false,"outcomes":[],"event_id":474428000,"title":"Los Angeles Dodgers v Oakland Athletics","market_id":null,"status_id":null,"score":"2 - 7","description":null,"start_time":1393877100000,"meeting":"MLB Exhibition Matches","meeting_id":217190710,"media":null,"american_format":false,"event_type":"GAMEEVENT","pos":1,"status":"4th Innings","status_type":"text","total_outcomes":0}],"pos":18}]};
	//{"id":18831866900,"description":"Portsmouth","price_decimal":18.0,"price":"17/1","price_id":121967343502,"print_order":3,"opponent_id":2439200,"deduction":1,"sp":false,"nr":false,"market":"Match Betting - 90 Mins"}
	
	// These would probably be moved out into a models library.
	function SPORT(id, title) {
		this.id = id;
		this.title = title;
	}

	function EVENT(id, title) {
		this.id = id;
		this.title = title;
	}

	function OUTCOME(id, title) {
		this.id = id;
		this.title = title;
	}

	function _findInArray(ar, prop, value) {
		if (!ar) throw "No data supplied.";
		if (!prop) throw "No property supplied.";

		var loop = true;
		var rec = null
		var i = 0;
		while (loop) {
			// Use === as we don't want any truthy/falsey
			// shenanigans here.
			rec = ar[i];
			loop = (rec[prop] === value);
			i++;
		}
		return rec;
	}

	function _getData(cb) {
		var d = "";

		function _success() {
			_data = JSON.parse(d);
			cb(true);
		}

		function _failure(e) {
			throw (e.message || "Unable to process request.");
		}

		// We could build content expiration into here
		// if required, but for now just cache the data.

		if (!_data)
		{
			http.get(_url, function(res) {
				res.on("data", function (chunk) {
					d += chunk;
				});
				res.on("end", function() {
					_success();
				});
			});
		}
		else
		{
			console.log("Already got data.");
			cb(true);
		}
	}

	function _getSports(cb) {
		function _process(data) {
			// We don't want to send back everything
			// so let's strip out just what we need.
			if (data)
			{
				var _ar = [];
				for (var i=0; i < data.sports.length; i++)
				{
					var rec = data.sports[i];
					_ar.push(new SPORT(rec.id, rec.title));
				}
				
				cb(_ar);
			}
			else
			{
				cb(null);
			}
		}
		
		_getData(function(ok) {
			if (ok)
			{
				_process(_data);
			}
			else
			{
				cb(null);
			}
		});
	}

	function _getEventsForSport(idx, cb) {
		function _process(_data) {
			var _ar = [];
			try
			{
				var _sport = _findInArray(_data.sports, "id", idx);
				if (_sport) {
					for (var i=0; (_sport.events && i < _sport.events.length); i++)
					{
						var ev = _sport.events[i];
						_ar.push(new EVENT(ev.id, ev.title));
					}
				}
				else
				{
					cb(null);
				}
				cb(_ar);
			}
			catch(e) {
				console.log(e);
				cb(null);
			}
		}
		
		getData(function(ok) {
			if (ok) {
				_process(_data);
			}
			else
			{
				cb(null);
			}
		});
	}

	function _getEventOutcomes(sportIdx, eventIdx, cb) {
		function _process(_data) {
			var _ar = [];
			try
			{
				var _sport = _findInArray(_data.sports, "id", sportIdx);
				var _ev = _findInArray(_sport.events, "id", eventIdx);
				if (_ev) {
					for (var i=0; (_ev.outcomes && i < _ev.outcomes.length); i++)
					{
						var _rec = _ev.outcomes[i];
						_ar.push(new OUTCOME(_rec.id, _rec.description));
					}
				}
				else
				{
					cb(null);
				}
				cb(_ar);
			}
			catch(e) {
				console.log(e);
				cb(null);
			}
		}
		
		getData(function(ok) {
			if (ok) {
				_process(_data);
			}
			else
			{
				cb(null);
			}
		});
	}

	this.getData = _getData;
	this.getSports = _getSports;
	this.getEventsForSport = _getEventsForSport;
	this.getEventOutcomes = _getEventOutcomes;

	return this;
})();

module.exports = DAL;
